<div class="dashboard-container">
  <div class="dashboard-header">
    <h2>Tableau de bord - {{ currentRole }}</h2>
    <button (click)="refreshData()" class="refresh-btn">
      <i class="fas fa-sync-alt"></i> Actualiser
    </button>
  </div>

  @if (isLoading) {
    <div class="loading-spinner">
      <i class="fas fa-spinner fa-spin"></i> Chargement des donn√©es...
    </div>
  }

  @if (errorMessage) {
    <div class="error-message">
      <i class="fas fa-exclamation-triangle"></i> {{ errorMessage }}
    </div>
  }

  <div class="charts-grid">
    @for (chart of charts; track chart.title) {
      <div class="chart-card">
        <h3>{{ chart.title }}</h3>
        <div class="chart-container">
          <canvas baseChart
            [type]="chart.type"
            [data]="chart.data"
            [options]="chart.options">
          </canvas>
        </div>
      </div>
    }
  </div>
</div>